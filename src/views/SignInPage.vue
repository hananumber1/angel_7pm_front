<template>
  <div>
    <!--container-->
    <v-container>
      <!--개인/기업 라디오 버-->
    <v-radio-group row>
      <v-radio label="개인" value="radio-1"></v-radio>
      <v-radio label="기업" value="radio-2"></v-radio>
    </v-radio-group>
      <!--아이디 입력-->
    <v-col cols="12" >
      <v-text-field
        v-model="email"
        label="이메일"
        filled
      ></v-text-field>
    </v-col>
      <!--비밀번호 입력-->
    <v-col cols="12">
      <v-text-field
        v-model="password"
        label="비밀번호"
        counter
      ></v-text-field>
      <!--@click:append="show1 = !show1"
        :append-icon="show1 ? 'mdi-eye' : 'mdi-eye-off'"
        :rules="[rules.required, rules.min]"
        :type="show1 ? 'text' : 'password'"
        name="input-10-1"-->
    </v-col>

    <template>
      <v-btn block class="deep-purple accent-2">회원가입</v-btn>
    </template>
    </v-container>
  </div>
</template>

<script>
import axios from 'axios'
export default {
  name: 'SignInPage',
  data: () => ({
    email: null,
    password: null
  }),
  created () {
    this.singIn()
  },
  methods: {
    singIn () {
      axios({
        method: 'POST',
        url: `${this.$store.state.host}/accounts/sign-in/`,
        data: {
          email: this.email,
          password: this.password
        }
      }).then(({ data }) => {
        // console.log(data)
        document.cookie = `accessToken=${data.token}`
        axios.defaults.headers.common['x-access-token'] = data.token
      })
        .catch(({ error }) => {
          console.log(error)
        })
    }
  }
}
</script>
